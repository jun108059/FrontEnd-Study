## Reference

https://blex.me/@baealex/php%EC%97%90%EC%84%9C-ajax-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95

## AJAX


필자는 어떤 플랫폼이나 언어를 공부할 땐 토이 프로젝트로 메모장을 제작한다. `PHP`에서도 마찬가지로 메모 기능이 가능한 토이 프로젝트를 진행하고 있었는데 웹 개발이 처음인지라 메모를 작성할 때 페이지가 새로고침되어 작성된 메모가 덧붙혀지는 전통적인 구조로 제작되었다.

처음에는 웹사이트의 속도가 빨랐기에 새로고침돼도 자연스러운 듯 보였으나 `CloudFlare` 등을 적용한 후 매우 느리게 페이지가 로딩되었다. 이걸 어떻게 개선할 수 있을까 고민하다가 AJAX라는 존재를 알게 되었다.



`AJAX`는 Asynchronous Javascript and XML의 줄임말이다. `XML`, `JSON`을 비롯해 문자열등을 비동기로 주고받을 수 있다. 필자가 생각하기에 `AJAX`를 원활하게 사용하려면 백엔드 언어에 대한 지식보다는 JavaScript에 대한 지식이 필요하다. 백엔드는 데이터를 제공할 뿐 데이터를 요청하고 표현하는 것은 결국 프론트에서 일어나기 때문이다. 이 글에선 AJAX 통신을 비롯한 필수적이고 최소한의 `JS`만을 다룬다. 또한 `AJAX` 통신은 `jQuery` 라이브러리를 활용하였다.

> 그런데 잠깐 비동기? 비동기에 대해서 생소한 사람도 있을거라 생각하는데 비동기란 요청을 후 응답을 기다리지 않는다. 응답이 오면 그때 응답에 대한 결과를 처리한다. 파이썬이나 PHP로만 제작된 웹페이지는 근본적으로 동기다. 사용자가 페이지를 로딩하면 DB를 읽어오고 페이지를 렌더링한 후 모든 요청에 대한 응답이 생성되면 로딩이 끝난다. 반면 비동기로 구현한 경우 사용자가 페이지를 로딩하면 일단 페이지를 보여주고 각각의 항목은 비동기로 요청을 주고 받아 응답이 오는 순서대로 페이지를 랜더링하여 실직적으로 사용자가 더욱 빠르게 로딩되었다고 느낄 수 있다.

AJAX를 사용할 때 기억해야 할 점은 백엔드에선 '필요한 부분'만 제공해주면 되고 자바스크립트에서 그 '필요한 부분'만을 가져와 '필요한 부분'에 붙혀주면 된다. 전통적으로 PHP는 HTML 내부에 삽입하여 프로그래밍하는데 AJAX를 활용하면 완전히 분리한 상태로 개발할 수 있다.


![img](img/php-AJAX(1).png)


대략 그림으로 표현하면 위와같다.

1. HTTP 통신엔 GET, POST, DELETE, PUT 등을 비롯한 HTTP Method가 존재한다.
1. 이 메서드를 이용하여 특정 URI에 요청을 보낸다.
1. 특정 URI에서 결과를 반환한다.
1. 원하는 위치에 결과를 렌더링한다.


Hello, AJAX!
위 과정을 코드로 한번 표현해보자. HELLO WORLD 쯤으로 생각하고 보면된다. 코드의 디렉터리 구조는 아래와 같다.

- index.html
- myname.php
